#include <iostream>
#include<cstring>
using namespace std;
#define ll long long int
int main() {
    
    int t;
    cin>>t;
    
    int a[1000005],prefixSum[1000005];
    while(t--){
        int n;
        cin>>n;
        
        ll sum=0;
        memset(prefixSum,0,sizeof prefixSum); //creating frequency array with name prefixSum
        
        prefixSum[0]=1;
        
        for(int i=0;i<n;i++){
            cin>>a[i];
            
            sum+=a[i];
            sum%=n;
            
            sum=(sum+n)%n;      //make number position then module them like if sum=-3 then (-3+5)=2 && 2%5=2
            
            //increase the frequency of each number after module
            prefixSum[sum]++;           
        }
        
        ll ans=0;
        for(int i=0;i<n;i++){
            ll num =prefixSum[i];
            ans+=((num)*(num-1))/2;        //method to find nC2;
        }
        cout<<ans;
    }
    return 0;
}
